(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{732:function(s,t,a){"use strict";a.r(t);var e=a(137),r=Object(e.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"一、nps-npc"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一、nps-npc"}},[s._v("#")]),s._v(" 一、NPS-NPC")]),s._v(" "),a("p",[s._v("下载服务端和客户端："),a("a",{attrs:{href:"https://github.com/ehang-io/nps/releases",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://github.com/ehang-io/nps/releases")])]),s._v(" "),a("p",[s._v("官方文档（中文）："),a("a",{attrs:{href:"https://ehang-io.github.io/nps/",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://ehang-io.github.io/nps/")])]),s._v(" "),a("h3",{attrs:{id:"_01-安装服务端-nps"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_01-安装服务端-nps"}},[s._v("#")]),s._v(" 01 | 安装服务端 NPS")]),s._v(" "),a("p",[s._v("服务端（NPS）需要运行在有公网IP的服务器上，所以这里选择安装在阿里云服务器")]),s._v(" "),a("p",[s._v("官网提供了三种安装方式，这里采用"),a("strong",[s._v("安装包的方式安装")])]),s._v(" "),a("p",[a("img",{attrs:{src:"https://gitee.com/small-universe/file-bed/raw/master/tools/NPS-NPC/2021-11-27-00:39:01-image-20211127003900763.png",alt:"image-20211127003900763"}})]),s._v(" "),a("p",[s._v("在安装前可以使用命令 "),a("strong",[a("code",[s._v("arch")]),s._v("查看内核")])]),s._v(" "),a("p",[a("img",{attrs:{src:"https://gitee.com/small-universe/file-bed/raw/master/tools/NPS-NPC/2021-11-27-14:58:56-image-20211127145856271.png",alt:"image-20211127145856271"}})]),s._v(" "),a("p",[s._v("x86_64是AMD64架构，所以下载对应的压缩包")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://gitee.com/small-universe/file-bed/raw/master/tools/NPS-NPC/2021-11-26-18:59:20-image-20211126185920625.png",alt:"image-20211126185920625"}})]),s._v(" "),a("p",[s._v("当然，你也可以直接使用 "),a("strong",[a("code",[s._v("wget")]),s._v("命令去下载")])]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@iZwz90pj2xzabkyltd9fbmZ ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# wget https://github.com/ehang-io/nps/releases/download/v0.26.10/linux_amd64_server.tar.gz")]),s._v("\n--2021-11-26 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v(":01:02--  https://github.com/ehang-io/nps/releases/download/v0.26.10/linux_amd64_server.tar.gz\nResolving github.com "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("github.com"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(". "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20.205")]),s._v(".243.166\nConnecting to github.com "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("github.com"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20.205")]),s._v(".243.166"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(":443"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(". connected.\nHTTP request sent, awaiting response"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(". "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("302")]),s._v(" Found\nLocation: https://github-releases.githubusercontent.com/156084530/13ee3900-9835-11eb-8c48-5eb47d7fd5a5?X-Amz-Algorithm"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("AWS4-HMAC-SHA256"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v("X-Amz-Credent                                                     "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ial")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("AKIAIWNJYAX4CSVEH53A%2F20211126%2Fus-east-1%2Fs3%2Faws4_request"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v("X-Amz-Date"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("20211126T110049Z"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v("X-Amz-Expires"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("300")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v("X-Amz-Signature"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("9ece120846ef47904c5                                                     084c35e9aef73900c647e4f58201c7885d0df5cc646e0"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v("X-Amz-SignedHeaders"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("host"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("actor_id")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("key_id")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("repo_id")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("156084530")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v("response-content-disposition"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("attachment%                                                     3B%20filename%3Dlinux_amd64_server.tar.gz"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v("response-content-type"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("application%2Foctet-stream "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("following"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n--2021-11-26 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v(":01:02--  https://github-releases.githubusercontent.com/156084530/13ee3900-9835-11eb-8c48-5eb47d7fd5a5?X-Amz-Algorithm"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("AWS4-HMAC-SHA25                                                     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v("X-Amz-Credential"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("AKIAIWNJYAX4CSVEH53A%2F20211126%2Fus-east-1%2Fs3%2Faws4_request"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v("X-Amz-Date"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("20211126T110049Z"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v("X-Amz-Expires"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("300")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v("X-Amz-Signature"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("9ece                                                     120846ef47904c5084c35e9aef73900c647e4f58201c7885d0df5cc646e0"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v("X-Amz-SignedHeaders"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("host"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("actor_id")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("key_id")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("repo_id")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("156084530")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v("response-content-disposit                                                     "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ion")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("attachment%3B%20filename%3Dlinux_amd64_server.tar.gz"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v("response-content-type"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("application%2Foctet-stream\nResolving github-releases.githubusercontent.com "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("github-releases.githubusercontent.com"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(". "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("185.199")]),s._v(".111.154, "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("185.199")]),s._v(".108.154, "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("185.199")]),s._v(".109.154, "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\nConnecting to github-releases.githubusercontent.com "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("github-releases.githubusercontent.com"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("185.199")]),s._v(".111.154"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(":443"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(". connected.\nHTTP request sent, awaiting response"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(". "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("200")]),s._v(" OK\nLength: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5713067")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(".4M"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("application/octet-stream"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nSaving to: ‘linux_amd64_server.tar.gz’\n\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),s._v("%"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5,713")]),s._v(",067    584KB/s   "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),s._v(".8s\n\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2021")]),s._v("-11-26 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v(":01:14 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("567")]),s._v(" KB/s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" - ‘linux_amd64_server.tar.gz’ saved "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5713067")]),s._v("/5713067"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n\n")])])]),a("p",[s._v("接下来"),a("strong",[s._v("解压")]),s._v("到"),a("code",[s._v("/opt/nps-server-v0.26.10")]),s._v("下")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@iZwz90pj2xzabkyltd9fbmZ ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# mkdir /opt/nps-server-v0.26.10")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@iZwz90pj2xzabkyltd9fbmZ ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# tar -zxvf linux_amd64_server.tar.gz -C /opt/nps-server-v0.26.10")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@iZwz90pj2xzabkyltd9fbmZ ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cd /opt/nps-server-v0.26.10/")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@iZwz90pj2xzabkyltd9fbmZ nps-server-v0.26.10"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ls")]),s._v("\nconf  nps  web\n\n")])])]),a("p",[a("strong",[s._v("查看目录结构")])]),s._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[s._v("WARNING")]),s._v(" "),a("p",[s._v("提示："),a("code",[s._v("-bash: tree: command not found")])]),s._v(" "),a("p",[s._v("tree未安装：直接解决方法 "),a("code",[s._v("yum -y install tree")])])]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@iZwz90pj2xzabkyltd9fbmZ nps-server-v0.26.10"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# tree")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v("\n├── conf\n│   ├── clients.json\n│   ├── hosts.json\n│   ├── nps.conf "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 需要修改的配置")]),s._v("\n│   ├── server.key\n│   ├── server.pem\n│   └── tasks.json\n├── nps\n└── web\n    ├── static\n    │   ├── css\n    │   │   ├── bootstrap.min.css\n    │   │   ├── bootstrap-table.min.css\n    │   │   ├── datatables.css\n    │   │   ├── fontawesome.min.css\n    │   │   ├── regular.min.css\n    │   │   ├── solid.min.css\n    │   │   └── style.css\n    │   ├── img\n    │   │   └── flag\n    │   │       ├── en-US.png\n    │   │       └── zh-CN.png\n    │   ├── js\n    │   │   ├── bootstrap.min.js\n    │   │   ├── bootstrap-table-locale-all.min.js\n    │   │   ├── bootstrap-table.min.js\n    │   │   ├── echarts.min.js\n    │   │   ├── fontawesome.min.js\n    │   │   ├── inspinia.js\n    │   │   ├── jquery-3.4.1.min.js\n    │   │   ├── language.js\n    │   │   └── popper.min.js\n    │   ├── page\n    │   │   ├── error.html\n    │   │   └── languages.xml\n    │   └── webfonts\n    │       ├── fa-solid-900.eot\n    │       ├── fa-solid-900.svg\n    │       ├── fa-solid-900.ttf\n    │       ├── fa-solid-900.woff\n    │       └── fa-solid-900.woff2\n    └── views\n        ├── client\n        │   ├── add.html\n        │   ├── edit.html\n        │   └── list.html\n        ├── index\n        │   ├── add.html\n        │   ├── edit.html\n        │   ├── hadd.html\n        │   ├── hedit.html\n        │   ├── help.html\n        │   ├── hlist.html\n        │   ├── index.html\n        │   └── list.html\n        ├── login\n        │   ├── index.html\n        │   └── register.html\n        └── public\n            ├── error.html\n            └── layout.html\n\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("14")]),s._v(" directories, "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("47")]),s._v(" files\n\n")])])]),a("p",[a("strong",[s._v("修改配置")])]),s._v(" "),a("p",[s._v("修改配置文件：端口、后台管理账号、后台管理密码")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# HTTP(S)代理端口")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("http_proxy_ip")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("http_proxy_port")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("    \n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("https_proxy_port")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("443")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("https_just_proxy")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("true\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# bridge")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("bridge_type")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("tcp\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("bridge_port")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8024")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 默认客户端连接服务器端的桥接口，可修改")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("bridge_ip")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 公用的客户端连接服务端密钥，可修改")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("public_vkey")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("123")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# web后台管理")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("web_host")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("a.o.com\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("web_username")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("admin   "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 默认用户名，修改")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("web_password")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("123")]),s._v("\t "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 默认密码，修改")]),s._v("\nweb_port "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8080")]),s._v("\t     "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 默认web端口")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("web_ip")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("web_base_url")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/nps        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 可设置web路径例如：web_base_url=/nps")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("web_open_ssl")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("false\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("web_cert_file")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("conf/server.pem\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("web_key_file")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("conf/server.key\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# auth_key, web api认证ip密钥，可修改，必须16位！")]),s._v("\nauth_crypt_key "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1234567812345678")]),s._v("\n\n")])])]),a("p",[a("strong",[s._v("部署")])]),s._v(" "),a("p",[s._v("修改完配置文件之后执行命令 "),a("code",[s._v("./nps install")])]),s._v(" "),a("p",[s._v("当前的配置文件和web静态文件拷贝到 "),a("code",[s._v("/etc/nps")]),s._v("下，以后修改配置文件直接修改"),a("code",[s._v("/etc/nps/conf/nps.conf")])]),s._v(" "),a("p",[a("strong",[s._v("启动服务")])]),s._v(" "),a("p",[s._v("如果没有上一步部署，可以直接使用命令 "),a("code",[s._v("./nps")]),s._v("阻断模式运行进行访问测试")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("nps start\n")])])]),a("p",[a("strong",[s._v("后台管理")])]),s._v(" "),a("p",[s._v("浏览器登录web管理面板: http://your_ip:8080/nps/")]),s._v(" "),a("p",[s._v("因为我配置改为了："),a("code",[s._v("web_base_url=/nps")]),s._v("，url后面才需要加上 "),a("code",[s._v("/nps")])]),s._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[s._v("TIP")]),s._v(" "),a("p",[s._v("使用阿里云，需要开放相应的端口，腾讯云、华为云等也是如此")]),s._v(" "),a("p",[s._v("阿里云服务器买的是轻量应用服务器，端口开放在防火墙中设置")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://gitee.com/small-universe/file-bed/raw/master/tools/NPS-NPC/2021-11-27-15:47:34-image-20211127154734402.png",alt:"image-20211127154734402"}})])]),s._v(" "),a("p",[s._v("登录成功")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://gitee.com/small-universe/file-bed/raw/master/tools/NPS-NPC/2021-11-27-15:02:08-image-20211127150208385.png",alt:"image-20211127150208385"}})]),s._v(" "),a("p",[s._v("接下来新增一个客户端")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://gitee.com/small-universe/file-bed/raw/master/tools/NPS-NPC/2021-11-26-23:28:09-image-20211126232809147.png",alt:"image-20211126232809147"}})]),s._v(" "),a("p",[a("img",{attrs:{src:"https://gitee.com/small-universe/file-bed/raw/master/tools/NPS-NPC/2021-11-26-23:30:25-image-20211126233024715.png",alt:"image-20211126233024715"}})]),s._v(" "),a("p",[a("img",{attrs:{src:"https://gitee.com/small-universe/file-bed/raw/master/tools/NPS-NPC/2021-11-26-23:34:13-image-20211126233412833.png",alt:"image-20211126233412833"}})]),s._v(" "),a("h3",{attrs:{id:"_02-安装客户端-npc"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_02-安装客户端-npc"}},[s._v("#")]),s._v(" 02 | 安装客户端 NPC")]),s._v(" "),a("p",[a("mark",[s._v("以Windows为例")])]),s._v(" "),a("p",[a("strong",[s._v("下载")])]),s._v(" "),a("p",[a("img",{attrs:{src:"https://gitee.com/small-universe/file-bed/raw/master/tools/NPS-NPC/2021-11-26-20:26:37-image-20211126202637059.png",alt:"image-20211126202637059"}})]),s._v(" "),a("p",[a("strong",[s._v("解压")])]),s._v(" "),a("p",[a("img",{attrs:{src:"https://gitee.com/small-universe/file-bed/raw/master/tools/NPS-NPC/2021-11-26-20:29:01-image-20211126202901041.png",alt:"image-20211126202901041"}})]),s._v(" "),a("p",[a("strong",[s._v("注册")])]),s._v(" "),a("p",[s._v("参照官方文档：")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://gitee.com/small-universe/file-bed/raw/master/tools/NPS-NPC/2021-11-26-23:37:40-image-20211126233740078.png",alt:"image-20211126233740078"}})]),s._v(" "),a("p",[s._v("执行命令")]),s._v(" "),a("p",[a("code",[s._v("npc.exe install -server=120.25.145.170:8024 -vkey=luhyozsu1fiynrah")])]),s._v(" "),a("p",[a("strong",[s._v("启动")])]),s._v(" "),a("p",[s._v("执行命令 "),a("code",[s._v("npc.exe start")]),s._v(" ，下图这样就是启动成功了")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://gitee.com/small-universe/file-bed/raw/master/tools/NPS-NPC/2021-11-26-23:51:06-image-20211126235106237.png",alt:"image-20211126235106237"}})]),s._v(" "),a("p",[s._v("刷新管理端，显示已经成功连接")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://gitee.com/small-universe/file-bed/raw/master/tools/NPS-NPC/2021-11-26-23:54:08-image-20211126235407820.png",alt:"image-20211126235407820"}})]),s._v(" "),a("p",[s._v("来看官网列举的各种使用场景，而内网穿透大多数都是为了SSH连接和远程桌面")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://gitee.com/small-universe/file-bed/raw/master/tools/NPS-NPC/2021-11-26-23:55:56-image-20211126235556440.png",alt:"image-20211126235556440"}})]),s._v(" "),a("p",[s._v("接下来只需要在客户端中配置一下"),a("strong",[s._v("隧道")]),s._v("就可以了")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://gitee.com/small-universe/file-bed/raw/master/tools/NPS-NPC/2021-11-26-23:58:54-image-20211126235854640.png",alt:"image-20211126235854640"}})]),s._v(" "),a("p",[a("img",{attrs:{src:"https://gitee.com/small-universe/file-bed/raw/master/tools/NPS-NPC/2021-11-27-00:22:47-image-20211127002247206.png",alt:"image-20211127002247206"}})]),s._v(" "),a("p",[s._v("接下来可以用远程桌面尝试连接了，这里用了mobaXterm远程桌面")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://gitee.com/small-universe/file-bed/raw/master/tools/NPS-NPC/2021-11-27-00:34:15-Snipaste_2021-11-27_00-30-44.png",alt:"Snipaste_2021-11-27_00-30-44"}})]),s._v(" "),a("p",[s._v("SSH连接也是一样的，设置对应的内网主机IP及22端口即可")]),s._v(" "),a("h3",{attrs:{id:"_03-安装服务端-nps-docker方式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_03-安装服务端-nps-docker方式"}},[s._v("#")]),s._v(" 03 | 安装服务端 NPS（Docker方式）")]),s._v(" "),a("p",[s._v("镜像地址："),a("a",{attrs:{href:"https://hub.docker.com/r/ffdfgdfg/nps",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://hub.docker.com/r/ffdfgdfg/nps")])]),s._v(" "),a("p",[s._v("1、拉取nps镜像")]),s._v(" "),a("p",[s._v("​     "),a("code",[s._v("docker pull ffdfgdfg/nps")])]),s._v(" "),a("p",[s._v("2、创建nps挂载文件目录(自己随意设置)")]),s._v(" "),a("p",[s._v("​      "),a("code",[s._v("mkdir -p /mnt/nps/conf")])]),s._v(" "),a("p",[s._v("3、从github上拉取conf文件信息(如果太慢可以从gitee上拉取)")]),s._v(" "),a("p",[s._v("​      "),a("a",{attrs:{href:"https://gitee.com/mirrors/nps.git",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://gitee.com/mirrors/nps.git")])]),s._v(" "),a("p",[s._v("4、上传conf文件的内容到刚创建好的挂载目录")]),s._v(" "),a("p",[s._v("5、修改nps.conf文件 主要修改一些端口")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# HTTP(S)代理端口")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("http_proxy_ip")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("http_proxy_port")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("    \n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("https_proxy_port")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("443")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("https_just_proxy")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("true\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# bridge")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("bridge_type")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("tcp\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("bridge_port")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8024")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 默认客户端连接服务器端的桥接口，可修改")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("bridge_ip")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 公用的客户端连接服务端密钥，可修改")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("public_vkey")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("123")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# web后台管理")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("web_host")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("a.o.com\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("web_username")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("admin   "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 默认用户名，修改")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("web_password")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("123")]),s._v("\t "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 默认密码，修改")]),s._v("\nweb_port "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8080")]),s._v("\t     "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 默认web端口")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("web_ip")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("web_base_url")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/nps        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 可设置web路径例如：web_base_url=/nps")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("web_open_ssl")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("false\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("web_cert_file")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("conf/server.pem\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("web_key_file")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("conf/server.key\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# auth_key, web api认证ip密钥，可修改，必须16位！")]),s._v("\nauth_crypt_key "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1234567812345678")]),s._v("\n")])])]),a("p",[s._v("6、启动nps，设置对外映射的端口区间")]),s._v(" "),a("p",[s._v("​      "),a("code",[s._v("docker run -d --net=host -p 8000-8080:8000-8080 -v /mnt/nps/conf:/conf --name=nps ffdfgdfg/nps")])]),s._v(" "),a("p",[s._v("7、访问你的服务器ip http://ip:8080/login/index")]),s._v(" "),a("p",[s._v("​      默认的登录账户密码：admin:123")]),s._v(" "),a("p",[s._v("8、创建客户端查看-server和 -vkey")]),s._v(" "),a("p",[s._v("9、创建tcp隧道绑定创建的客户端编号")])])}),[],!1,null,null,null);t.default=r.exports}}]);